:root{
  --bg:#0f1418;
  --panel:#0f1720;
  --muted:#cfd8dc;
  --accent:#fbc02d;
  --deploy:#4caf50;
  --blocked:#f44336;
  --maint:#ff9800;
  --glass: rgba(255,255,255,0.03);
}

.planning-root{
  padding:18px;
  background:linear-gradient(180deg,var(--panel),#0b0f12);
  border-radius:12px;
  color:var(--muted);
  margin:18px;
  box-shadow:0 8px 30px rgba(2,6,23,0.6);
}

.planning-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}

.planning-header h2{color:var(--accent);margin:0;text-align:center}
.planning-header .sub{font-size:13px;color:rgba(255,255,255,0.6);text-align:center}
.nav-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:var(--muted);cursor:pointer}
.title-block{flex:1}

.controls{display:flex;gap:8px}
.btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:var(--muted);cursor:pointer}
.btn:hover{background:var(--glass)}
.btn.warning{border-color:rgba(244,67,54,0.14);color:#ffb4a6}

.legend{display:flex;gap:16px;align-items:center;margin-bottom:12px}
.legend-item{display:flex;align-items:center;gap:8px;font-size:13px}
.chip{width:14px;height:14px;border-radius:4px;display:inline-block;box-shadow:inset 0 -2px 4px rgba(0,0,0,0.3)}
.cell-none{background:transparent;border:1px dashed rgba(255,255,255,0.03)}
.cell-deploy{background:var(--deploy)}
.cell-blocked{background:var(--blocked)}
.cell-maintenance{background:var(--maint)}

.grid-wrap{overflow:auto;border-radius:8px;padding:8px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}
.grid{display:flex;min-width:900px}

.grid-week{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:8px;padding:8px}
.grid-top{display:flex}
.corner{width:120px}
.day-col{min-width:120px;padding:8px;text-align:center;font-weight:700;border-bottom:1px solid rgba(255,255,255,0.04)}
.day-sub{font-size:12px;color:rgba(255,255,255,0.6)}

.grid-body{display:flex}
.corner-spacer{width:120px}
.env-col{width:120px;display:flex;flex-direction:column}
.env-cell{height:84px;display:flex;align-items:center;padding-left:8px;border-bottom:1px solid rgba(255,255,255,0.03);font-weight:700}

.days-scroll{overflow-x:auto}
.days-cols{display:flex;flex:1;width:max-content}
.day-col-body{min-width:120px;border-left:1px solid rgba(255,255,255,0.02)}
.slot{min-height:120px;border-bottom:1px solid rgba(255,255,255,0.02);padding:6px;cursor:pointer}
.slot-inner{display:flex;flex-direction:column;gap:6px;max-height:320px;overflow:auto}

.event{background:#070708;border-radius:8px;padding:8px 8px 8px 12px;margin-bottom:8px;box-shadow:0 6px 14px rgba(0,0,0,0.6);position:relative;color:#ffffff}
.event-top{display:flex;justify-content:space-between;align-items:center}
.project{color:#ffffff;font-weight:700}
.time{font-size:12px;color:rgba(255,255,255,0.9)}
.event-bottom{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
.dev{font-size:12px;color:rgba(255,255,255,0.9)}
.x{background:transparent;border:none;color:#ff9b9b;cursor:pointer}

/* Event colors by environment: keep only the colored left stripe */
.event-DEV{border-left:6px solid #4caf50;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
.event-INT{border-left:6px solid #2196f3;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
.event-PRE{border-left:6px solid #ffeb3b;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
.event-PRO{border-left:6px solid #f44336;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}

.legend-bottom{display:flex;gap:12px;margin-top:12px;align-items:center}
.legend-item{display:flex;align-items:center;gap:8px}
.legend-box{width:18px;height:14px;border-radius:3px;display:inline-block}
.legend-box.dev{background:#4caf50}
.legend-box.int{background:#2196f3}
.legend-box.pre{background:#ffeb3b}
.legend-box.pro{background:#f44336}

@media (max-width:900px){
  .day-col,.day-col-body{min-width:100px}
  .env-col{width:80px}
}

/* Modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:40}
.modal{background:#0b1220;padding:16px;border-radius:10px;width:520px;max-width:94%;box-shadow:0 12px 40px rgba(0,0,0,0.6);opacity:1}
.modal h3{margin-top:0;color:var(--accent)}
.form-row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.form-row label{width:110px;font-weight:700}
.form-row input,.form-row select,.form-row textarea{flex:1;padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,0.08);background:#081018;color:var(--muted)}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}
.modal-error{background:#3b1010;color:#ffd7d7;padding:10px;border-radius:6px;margin-top:8px;border:1px solid rgba(244,67,54,0.18)}
