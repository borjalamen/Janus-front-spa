<mat-sidenav-container>

  <!-- Menú lateral -->
  <mat-sidenav mode="side" opened>
    <mat-toolbar color="primary" class="sidenav-toolbar">
      <img src="https://i.imgur.com/7dRimV7.png" alt="JanusHub" class="janus" />
    </mat-toolbar>

    <mat-nav-list class="scroll-nat-nav-list">

      <!-- Home -->
      <a mat-list-item routerLink="/home">
        <mat-icon>home</mat-icon>
        <span class="menu-text"><strong>Bienvenida</strong></span>
      </a>

      <!-- Proyectos -->
      <a mat-list-item routerLink="/projects">
        <mat-icon>folder_open</mat-icon>
        <span class="menu-text"><strong>Proyectos</strong></span>
      </a>

      <!-- Procedimientos -->
      <a mat-list-item routerLink="/procedimientos">
        <mat-icon>assignment</mat-icon>
        <span class="menu-text"><strong>Procedimientos</strong></span>
      </a>

      <!-- Documentos -->
      <a mat-list-item routerLink="/documents">
        <mat-icon>upload_file</mat-icon>
        <span class="menu-text"><strong>Documentos</strong></span>
      </a>

      <!-- Formación -->
      <a mat-list-item routerLink="/formacion">
        <mat-icon>school</mat-icon>
        <span class="menu-text"><strong>Formación</strong></span>
      </a>

      <!-- Planificación -->
      <a mat-list-item routerLink="/planificacion">
        <mat-icon>event_note</mat-icon>
        <span class="menu-text"><strong>Planificación</strong></span>
      </a>

      <!-- Administración -->
      <a mat-list-item routerLink="/administracion" *ngIf="canShowAdministracion()">
        <mat-icon>admin_panel_settings</mat-icon>
        <span class="menu-text"><strong>Administración</strong></span>
      </a>

      <!-- Bitácora -->
      <a mat-list-item routerLink="/bitacora" *ngIf="canShowBitacora()">
        <mat-icon>bug_report</mat-icon>
        <span class="menu-text"><strong>Bitácora</strong></span>
      </a>

    </mat-nav-list>
  </mat-sidenav>

  <!-- Contenido principal -->
  <mat-sidenav-content>

    <!-- Franja superior exclusiva per icones/imatges -->
    <div class="banner-imatges">
      <!-- tus imágenes, sin cambios -->
      <img src="https://imgur.com/69aimFa.png" class="imatge-menu" alt="Diamond" />
    </div>

    <!-- Franja inferior exclusiva pel títol, login, etc -->
    <mat-toolbar color="primary" class="main-toolbar" [class.scrolled]="isScrolled">
      <span class="app-title">JanusHub Portal</span>
      <span class="spacer"></span>

      <!-- Usuario logueado -->
      <ng-container *ngIf="username; else loginBtn">
        <div class="login-user">
          <mat-icon>person</mat-icon>
          <span>{{ username }} ({{ rol }})</span>
          <button mat-button color="warn" (click)="logout()">Logout</button>
        </div>
      </ng-container>

      <!-- Botón login -->
      <ng-template #loginBtn>
        <div class="login-user" (click)="loginDialog()">
          <mat-icon>person</mat-icon>
          <span>Login</span>
        </div>
      </ng-template>

    </mat-toolbar>

    <div class="main-content menu-content-scroll">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>

</mat-sidenav-container>

<footer class="footer">
  <span>
    Copyright |
    <strong>{{ appVersion ?? 'obteniendo versión...' }}</strong>
  </span>
</footer>
