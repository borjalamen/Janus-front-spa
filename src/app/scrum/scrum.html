<div class="scrum-root">
  <h2>{{ 'SCRUM.TITLE' | translate }}</h2>
  <p class="lead">{{ 'SCRUM.DESCRIPTION' | translate }}</p>

  <div class="scrum-controls">
    <input [(ngModel)]="newTitle" placeholder="{{ 'SCRUM.PLACEHOLDER_TITLE' | translate }}" />
    <input [(ngModel)]="newEstimate" placeholder="{{ 'SCRUM.PLACEHOLDER_ESTIMATE' | translate }}" style="width:120px" />
    <select [(ngModel)]="newPriority">
      <option value="Low">{{ 'SCRUM.PRIORITY_LOW' | translate }}</option>
      <option value="Medium">{{ 'SCRUM.PRIORITY_MEDIUM' | translate }}</option>
      <option value="High">{{ 'SCRUM.PRIORITY_HIGH' | translate }}</option>
    </select>
    <button class="btn" (click)="addTask()">{{ 'SCRUM.ADD_BUTTON' | translate }}</button>
  </div>

  <div class="board">
    <div class="col">
      <div class="col-title">{{ 'SCRUM.COL_TODO' | translate }}</div>
      <div class="col-body">
        <div *ngFor="let t of tasksBy('todo')" class="card">
          <div class="card-head">
            <strong>{{ t.title }}</strong>
            <span class="meta">{{ t.estimate ? (t.estimate + 'h') : '' }} {{ t.priority ? (' · ' + ( getPriorityKey(t.priority) | translate )) : '' }}</span>
          </div>
          <div class="card-actions">
            <button (click)="moveTask(t.id,'doing')">→ {{ 'SCRUM.COL_DOING' | translate }}</button>
            <button (click)="moveTask(t.id,'done')">✓ {{ 'SCRUM.COL_DONE' | translate }}</button>
            <button class="danger" (click)="removeTask(t.id)">✕</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="col-title">{{ 'SCRUM.COL_DOING' | translate }}</div>
      <div class="col-body">
        <div *ngFor="let t of tasksBy('doing')" class="card">
          <div class="card-head">
            <strong>{{ t.title }}</strong>
            <span class="meta">{{ t.estimate ? (t.estimate + 'h') : '' }} {{ t.priority ? (' · ' + ( getPriorityKey(t.priority) | translate )) : '' }}</span>
          </div>
          <div class="card-actions">
            <button (click)="moveTask(t.id,'todo')">← {{ 'SCRUM.COL_TODO' | translate }}</button>
            <button (click)="moveTask(t.id,'done')">✓ {{ 'SCRUM.COL_DONE' | translate }}</button>
            <button class="danger" (click)="removeTask(t.id)">✕</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="col-title">{{ 'SCRUM.COL_DONE' | translate }}</div>
      <div class="col-body">
        <div *ngFor="let t of tasksBy('done')" class="card done">
          <div class="card-head">
            <strong>{{ t.title }}</strong>
            <span class="meta">{{ t.estimate ? (t.estimate + 'h') : '' }} {{ t.priority ? (' · ' + ( getPriorityKey(t.priority) | translate )) : '' }}</span>
          </div>
          <div class="card-actions">
            <button (click)="moveTask(t.id,'todo')">← {{ 'SCRUM.COL_TODO' | translate }}</button>
            <button (click)="moveTask(t.id,'doing')">→ {{ 'SCRUM.COL_DOING' | translate }}</button>
            <button class="danger" (click)="removeTask(t.id)">✕</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
